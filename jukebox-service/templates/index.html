{% extends "base.html" %}
{% block title %}Jukebox{% endblock %}
{% block content %}

<div class="container">
<br>  <h1 class="text-center">Spotify & RaspberryPi Jukebox Dashboard</h1>
<hr>
<br>
<br>
<div class="row top-row">
	{% with messages = get_flashed_messages() %}
		{% if messages %}
			<ul class=flashes>
			{% for message in messages %}
				<li>{{ message }}</li>
			{% endfor %}
			</ul>
		{% endif %}
	{% endwith %}
	<aside class="col-sm-12">
		<div class="card">
			<article class="card-body">
				<h4 class="card-title mb-4 mt-1">About</h4>
				<hr>
				<p>Welcome to the dashboard that controls the Jukebox! From here, you can write a Spotify URI to a NFC Card, Read from an NFC card to see what's on there and finall, update your username and password to login to Spotify.</p>
			</article>
		</div> <!-- card.// -->
	</aside>
</div>
<div class="row top-row">
	<aside class="col-sm-12">
		<div class="card">
			<article class="card-body cur_playing">
				<h4 class="card-title mb-4 mt-1">Currently Playing</h4>
				<hr>
				<h2>Song: <span id="title" class="title" ></span></h2>
				<h2>Artist: <span id="artist" class="artist" ></span></h2>
				<h2>Album: <span id="album" class="album" ></span></h2>
				<button id="next-button" class="btn btn-primary btn-block" onclick="nextSong()" > Next Song </button>
			</article>
		</div> <!-- card.// -->
	</aside>
</div>
<div class="row">
	<aside class="col-sm-4">
<div class="card">
<article class="card-body">
<h4 class="card-title mb-4 mt-1">Write URI to NFC Card</h4>
<hr>
  <form id="write-form" onsubmit="startWrite(); return false;">
	<div class="form-group">
    	<label>Enter Spotify URI</label>
        <input id="uri_input_box" name="" class="form-control" placeholder="Spotify URI" type="text" required>
	</div>
	<div class="form-group">
        <button type="submit" class="btn btn-primary btn-block"> Write  </button>
    </div>
    <div class="form-group">
        <button onclick="clearWrite(); return false;" class="btn btn-primary btn-block"> Clear  </button>
    </div>
  </form>
  <h4 id="update_write_box" class="card-title mb-4 mt-1"></h4>
</article>
</div> <!-- card.// -->

	</aside> <!-- col.// -->
	<aside class="col-sm-4">

<div class="card">
<article class="card-body">
	<h4 class="card-title mb-4 mt-1">Update Spotify Auth</h4>
	<hr>
	<form id="sonos-room-form" action="{{ url_for('update_sonos_room') }}" method="post">
		<div class="form-group">
			<label>Enter Default Sonos Room</label>
			<input id="sonos-room" name="sonos-room" class="form-control" placeholder="Living Room" type="text" required>
		</div>
		<div class="form-group">
			<button type="submit" class="btn btn-primary btn-block"> Update  </button>
		</div>
	</form>
</article>
</div> <!-- card.// -->

	</aside> <!-- col.// -->
	<aside class="col-sm-4">

<div class="card">
	<article class="card-body">
	<h4 class="card-title mb-4 mt-1">Read NFC Card</h4>
	<p class="text-center">Click on Read then place your RFID card next to the NFC reader</p>
	<hr>
		<form id="read-form" onsubmit="startRead(); return false;">
		<div class="form-group">
			<button type="submit" class="btn btn-primary btn-block"> Read </button>
		</div>
		<div class="form-group">
        <button onclick="clearRead(); return false;" class="btn btn-primary btn-block"> Clear </button>
    </div>
		</form>
		<h4 id="update_read_box" class="card-title mb-4 mt-1"></h4>
	</article>
	</div> <!-- card.// -->

	</aside> <!-- col.// -->
</div> <!-- row.// -->

</div>

{% endblock %}
