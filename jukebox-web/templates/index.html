{% extends "base.html" %}
{% block title %}Home Page{% endblock %}
{% block content %}
<h1>Test</h1>
<input type="text" placeholder="Enter Spotify URI" id="myInput">
<button type="button" onclick="getInputValue();">Get Value</button>
<p id="update_box">Starting</p>
<script>
    function makeGetRequest(path) {
        document.getElementById("myInput").innerHTML  = "Tap your NFC card to the NFC Reader";
        return new Promise(function (resolve, reject) { 
            axios.get(path).then( 
                (response) => { 
                    var result = response.data; 
                    console.log('Processing Request'); 
                    resolve(result); 
                }, 
                    (error) => { 
                    reject(error); 
                } 
            ); 
        }); 
    } 
    
    async function getInputValue() { 
        var inputVal = document.getElementById("myInput").value;
        var result = await makeGetRequest('/write/' + inputVal); 
        console.log(result.result);
    }
</script>

{% endblock %}